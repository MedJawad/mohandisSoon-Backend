(this.webpackJsonpmohandissoon=this.webpackJsonpmohandissoon||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);a(56),a(57),a(58),a(59);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),c=a(15),l=a(24),i=a(12),u=a(51),m=a(47),p=a(120),d=a(121),E=a(122),b=a(48),h=a(49),f=a(123),g=a(40),O=a(42),v=a(43),S=a(54),j=a(52),U=function(e){Object(S.a)(a,e);var t=Object(j.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"+(this.props.plain?" card-plain":""),style:this.props.style},r.a.createElement("div",{className:"header"+(this.props.hCenter?" text-center":"")},r.a.createElement("h4",{className:"title"},this.props.title),r.a.createElement("p",{className:"category"},this.props.category)),r.a.createElement("div",{className:"content"+(this.props.ctAllIcons?" all-icons":"")+(this.props.ctTableFullWidth?" table-full-width":"")+(this.props.ctTableResponsive?" table-responsive":"")+(this.props.ctTableUpgrade?" table-upgrade":"")},this.props.content,r.a.createElement("div",{className:"footer"},this.props.legend,null!=this.props.stats?r.a.createElement("hr",null):"",r.a.createElement("div",{className:"stats"},r.a.createElement("i",{className:this.props.statsIcon})," ",this.props.stats))))}}]),a}(n.Component),y={REQUEST:"REQUEST_USER",SUCCESS:"SUCCESS_USER",FAILURE:"FAILURE_USER",LOGOUT:"LOGOUT_USER"},k=a(44),w=a.n(k),L=new(a(53).a),C=a(109),x=function(e){var t={method:"POST",url:"/login",data:C.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded"},json:!0};return function(e){e({type:y.REQUEST}),w()(t).then((function(e){return 200===e.status?e.data:null})).then((function(t){return L.set("token",t.success,{maxAge:3600}),e(function(e){return{type:y.SUCCESS,token:e.token,role:e.role}}(t.success))})).catch((function(t){return e(function(e){return{type:y.FAILURE,error:e}}(t))}))}},R=function(){var e=L.get("token");return e?{type:y.SUCCESS,token:e.token,role:e.role}:{type:"COOKIE_NOT_FOUND"}},N=a(45),T=a.n(N),I=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(u.a)(e,2),a=t[0],o=t[1],s=Object(i.b)();function l(e){var t=e.target.name;"username"===t?o({username:e.target.value,password:a.password}):"password"===t&&o({username:a.username,password:e.target.value})}var O=Object(i.c)((function(e){return e.auth.isLoading})),v=null;Object(i.c)((function(e){return null!=e.auth.token}))&&(v=r.a.createElement(c.a,{to:"/"}));var S=null,j=Object(i.c)((function(e){return e.auth.error}));if(j){var y=j.message||"An error has occurred";y.includes("401")&&(y="Wrong Username or Password"),S=r.a.createElement(m.a,{sm:{span:12}},r.a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},r.a.createElement("strong",null,y)))}var k={backgroundImage:"url("+T.a+")",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return r.a.createElement("div",{className:"content  loginContainer",style:k},v,r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(m.a,{sm:{span:4,offset:4}},r.a.createElement(U,{ctTableResponsive:!0,style:{background:"#f7f7f7",margin:"100px auto",boxShadow:" 0px 4px 4px rgba(0, 0, 0, 0.5)"},content:r.a.createElement(E.a,{onSubmit:function(e){e.preventDefault(),s(x(a))}},r.a.createElement("h2",{className:"text-center"},"Log in"),r.a.createElement(b.a,{controlId:"formHorizontalEmail"},r.a.createElement(m.a,{sm:{span:12}},r.a.createElement(h.a,{type:"text",name:"username",placeholder:"Username",required:"required",value:a.username,onChange:l}))),r.a.createElement(b.a,{controlId:"formHorizontalPassword"},r.a.createElement(m.a,{sm:{span:12}},r.a.createElement(h.a,{type:"password",name:"password",placeholder:"Password",required:"required",value:a.password,onChange:l}))),O?r.a.createElement(g.BeatLoader,{css:{width:"50%",margin:"auto;",textAlign:"center"},color:"#3472F7"}):r.a.createElement(b.a,null,r.a.createElement(m.a,{sm:{span:12}},r.a.createElement(f.a,{type:"submit",className:"btn btn-primary btn-fill btn-block",style:{fontSize:"15px",fontWeight:"bold"}},"Log in"))),S)})))))},A=function(e){var t=Object(i.c)((function(e){return null!=e.auth.token})),a=Object(i.b)();Object(n.useEffect)((function(){a(R())}),[a]);var o=null;return t||(o=r.a.createElement(c.a,{to:"/login"})),r.a.createElement(l.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/login",render:function(e){return r.a.createElement(I,e)}}),o,t&&r.a.createElement(c.a,{from:"/",to:"/admin/"})))},F=a(14),_=a(50),P=a(16),q={isLoading:!1,isLoaded:!1,error:null,token:null},z=Object(F.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.REQUEST:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!0,isLoaded:!1,error:null});case y.SUCCESS:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,isLoaded:!0,error:null,token:t.token,role:t.role});case y.FAILURE:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,isLoaded:!1,error:t.error,token:null});case y.LOGOUT:return q;default:return e}}}),Q=Object(F.d)(z,Object(F.a)(_.a));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:Q},r.a.createElement(A,null))),document.getElementById("root"))},45:function(e,t,a){e.exports=a.p+"static/media/login-bg.3c23ec62.jpg"},55:function(e,t,a){e.exports=a(118)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.f66c9cc3.chunk.js.map